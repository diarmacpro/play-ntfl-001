
# Laporan Perencanaan Pengembangan Halaman Proses WH (Implementasi JavaScript)

## Latar Belakang
Perencanaan pengembangan dilakukan untuk halaman proses WH yang sudah menggunakan teknologi lanjutan, dengan back-end berbasis Golang dan front-end JavaScript. Salah satu fokus utama adalah perlakuan pada data sementara (`tempData`) agar data yang sudah terdaftar pada Surat Jalan (SJ) tidak ikut ditampilkan pada layer 2.

## Analisa dan Rencana Teknis
- **Permasalahan:**
    - Saat ini, data pada layer 2 dapat menampilkan data yang sudah terdaftar pada SJ, sehingga berpotensi terjadi duplikasi tampilan data.
- **Solusi:**
    - Lakukan filter pada data layer 2 di sisi JavaScript, dengan cara membandingkan setiap data pada layer 2 terhadap data yang sudah ada di SJ (yang tersimpan di `tempData`).
    - Data yang ID-nya sudah ada di `tempData` tidak akan ditampilkan pada layer 2.

## Potongan Kode (Rencana Implementasi JavaScript)
```javascript
function filterLayer2WithTempData(layer2Data, tempData) {
    // Ambil daftar id_stock dari tempData (data SJ yang aktif)
    const sjIds = (tempData || []).map(item => item.id_stock);
    // Filter layer2Data agar hanya menampilkan data yang belum ada di SJ
    return (layer2Data || []).filter(item => !sjIds.includes(item.id_stock));
}

// Contoh penggunaan pada proses render layer 2:
getDtStock(id, (r) => {
    const filtered = filterLayer2WithTempData(r, tempData);
    // lanjutkan render dengan filtered
});
```
**Penjelasan:**
- Fungsi `filterLayer2WithTempData` akan mengembalikan data layer 2 yang sudah difilter, sehingga data yang sudah terdaftar pada SJ tidak ikut ditampilkan.
- Fungsi ini dapat dipanggil sebelum proses render pada modal atau tampilan layer 2.

## Rencana Tindakan
1. Analisa struktur data pada layer 2 dan tempData (SJ).
2. Implementasi fungsi filter pada proses render layer 2 di JavaScript.
3. Pengujian untuk memastikan data yang sudah terdaftar pada SJ tidak muncul di layer 2.
4. Dokumentasi dan sosialisasi perubahan kepada tim terkait.

## Target Hasil
- Data pada layer 2 hanya menampilkan data yang belum terdaftar pada SJ.
- Tidak ada duplikasi data antara layer 2 dan SJ.
- Proses migrasi dan integrasi dengan back-end Golang tetap berjalan lancar.
- Performa sistem tetap optimal dan mudah di-maintain.
